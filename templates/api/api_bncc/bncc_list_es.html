{% extends 'base.html' %}
{% load form_tags %}
{% load static %}
{% block extrahead %}
<link rel="stylesheet" href="{% static 'admin/css/styles_bncc_hs.css' %}">
    
{% endblock extrahead %}
    

{% block content %}
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<h3 class="font-weight-bold mt-3 font-news">Consulta à Base Nacional Curricular Comum - BNCC</h3>
<hr>

<div class="container mt-3">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active  mb-2" id="fundamental-tab" data-bs-toggle="tab" href="{% url 'api_bncc:list-bncc-el-school' %}" role="tab" aria-controls="fundamental" aria-selected="true">Ensino Fundamental</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="medio-tab" data-bs-toggle="tab" href="{% url 'api_bncc:list-bncc-hs-school' %}" role="tab" aria-controls="medio" aria-selected="false">Ensino Médio</a>
        </li>
    </ul>
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="fundamental" role="tabpanel" aria-labelledby="fundamental-tab">
           

<label class="form-label" for="materias">Escolha uma matéria:</label>
<select class="form-select" id="materias" name="materia">
    <option value="" disabled selected>Todas as matérias</option>
  <option value="portugues" {% if request.GET.materia == 'portugues' %} selected {% endif %}>Língua Portuguesa</option>
  <option value="ingles" {% if request.GET.materia == 'ingles' %} selected {% endif %}>Língua Inglesa</option>
  <option value="matematica" {% if request.GET.materia == 'matematica' %} selected {% endif %}>Matemática</option>
  <option value="ciencias" {% if request.GET.materia == 'ciencias' %} selected {% endif %}>Ciências</option>

  <option value="geografia" {% if request.GET.materia == 'geografia' %} selected {% endif %}>Geografia</option>
  <option value="historia" {% if request.GET.materia == 'historia' %} selected {% endif %}>História</option>
  <option value="educacao_fisica" {% if request.GET.materia == 'educacao_fisica' %} selected {% endif %}>Educação Física</option>
  <option value="ensino_religioso" {% if request.GET.materia == 'ensino_religioso' %} selected {% endif %}>Ensino Religioso</option>
</select>

<label class="form-label" for="anos">Escolha um ano:</label>
<select class="form-select" id="anos" name="ano">
  <option value="1" {% if request.GET.ano == '1' %} selected {% endif %}>1º Ano</option>
  <option value="2" {% if request.GET.ano == '2' %} selected {% endif %}>2º Ano</option>
  <option value="3" {% if request.GET.ano == '3' %} selected {% endif %}>3º Ano</option>
  <option value="4" {% if request.GET.ano == '4' %} selected {% endif %}>4º Ano</option>
  <option value="5" {% if request.GET.ano == '5' %} selected {% endif %}>5º Ano</option>
  <option value="6" {% if request.GET.ano == '6' %} selected {% endif %}>6º Ano</option>
  <option value="7" {% if request.GET.ano == '7' %} selected {% endif %}>7º Ano</option>
  <option value="8" {% if request.GET.ano == '8' %} selected {% endif %}>8º Ano</option>
  <option value="9" {% if request.GET.ano == '9' %} selected {% endif %}>9º Ano</option>
</select>

<button id="filtrar" class="btn btn-success">Filtrar</button>


{% if api_bncc %}
<div class="row mt-2">
    <div class="col">
        <div class="table-responsive">
            <table class="table table-striped">
                <thead class="thead-dark">
                    <tr>
                        <th class="col show-subject-header">Matéria</th>
                        <th class="show-know-object-header" scope="col">Objeto do Conhecimento</th>
                        <th class="col">Habilidades</th>
                        {% if not show_columns_port %}
                        <th class="show-thematic-unities-header col">Unidade temática</th>
                        {% endif %}
                        {% if show_columns_english %}
                        <th class="show-axis-header col">Eixo</th>
                        {% endif %}
                        {% if show_columns_port %}
                        <th class="show-language-practice-header col">Prática de linguagem</th>
                        <th class="show-field-act-header col">Campo de ação</th>
                        {% endif %}

                    </tr>
                </thead>
                <tbody>
                    {% for post in api_bncc %}
                    <tr>
                        <td class="show-subject-data">{{ post.get_cur_comp_display}}</td>
                        <td class="show-know-object-data"><span class="copiable-text">{{ post.k_obj }}</span>                        <i class="fa fa-copy copy-icon" title="Copiar"></i>
                        </td>

                        <td class="justify-text-skill">
                            <span class="copiable-text">({{post.cod_skill}}) </span>
                            <span>{{post.skill}}</span>
                            <i class="fa fa-copy copy-icon" title="Copiar"></i>
                        </td>
                        {% if not show_columns_port %}
                        <td class="show-thematic-unities-data">{{post.thema_unities}}</td>
                        {% endif %}
                        {% if show_columns_english %}
                        <td class="show-axis-data">{{post.axis}}</td>
                        {% endif %}
                        {% if show_columns_port %}
                        <td class="show-language-practice-data"><span class="copiable-text-lang">{{post.lang_prac}}</span>
                        <i class="fa fa-copy copy-icon" title="Copiar"></i>
                        </td>
                        <td class="show-field-act-data">{{post.field_act}}</td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% else %}
<div class="alert alert-info mt-3" role="alert">

    <h3>Clique no filtrar para consultar a BNCC!</h3>
</div>


{% endif %}


{% block script_js %}
<script src="{% static 'admin\js\api_bncc_es.js' %}"></script>
{% endblock %} 
</div>

{% endblock %}
